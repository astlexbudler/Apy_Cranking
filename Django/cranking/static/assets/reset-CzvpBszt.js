import{j as e,T as B,E as z,r as a,B as c,I as g,a as u,b as j,p as R,c as $,C,H as E}from"./index-OSHjpEom.js";import{S as L}from"./section-title-DXBIhfo3.js";import{z as i,u as Z,F as N,I as w,t as V}from"./form-provider-By_UTwdL.js";import{F as l}from"./fields-BMzgYp9w.js";import{A as D}from"./alert-custom-B4zA1k0X.js";import{B as H}from"./button-return-login-jRD4YpUX.js";import{C as G,a as J}from"./confirm-text-password-check-Ddjqpgfa.js";import"./TextField-D7_CctXc.js";import"./List-DhaKcT6X.js";import"./MenuItem-B5XJ1Y_I.js";import"./ListItemText-A0pJ6c80.js";import"./Rating-CVOhl3eE.js";import"./index-CPQRx6dj.js";import"./ListItem-W1Z_0NnS.js";function W({ok:s}){return e.jsx(B,{variant:"caption",color:s==!0?"success.main":s==!1?"error.main":"text.secondary",children:s==!0?"인증코드가 확인되었습니다.":s==!1?"인증번호를 확인해주세요.":"인증번호를 입력해주세요."})}const q=i.object({code:i.string().regex(/^\d{6}$/,"6자리 숫자 코드를 입력해주세요."),password:i.string().min(6,"비밀번호는 6자 이상입니다.").max(30,"비밀번호는 30자 이하입니다.").regex(/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{6,30}$/,{message:"영문과 숫자를 포함해야 합니다."}),confirmPassword:i.string()}).superRefine(({password:s,confirmPassword:r},d)=>{s!==r&&d.addIssue({path:["confirmPassword"],message:"비밀번호가 일치하지 않습니다."})});function K(){var p,h,f;const s=Z({resolver:V(q),defaultValues:{email:"your@email.com",code:"",password:"",confirmPassword:""},mode:"onChange"}),{reset:r,handleSubmit:d,getValues:n,formState:{errors:m}}=s,o=z(),[k,P]=a.useState(),[y,T]=a.useState(),[v,b]=a.useState(),A=d(t=>{alert(JSON.stringify(t)),r()}),S=()=>{const t=n("code");P(/^\d{6}$/.test(t))},F=()=>{const t=n("password");T(/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{6,30}$/.test(t))},I=()=>{const t=n("confirmPassword");b(t===n("password"))},[O,x]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(N,{methods:s,onSubmit:A,children:e.jsxs(c,{sx:{gap:3,display:"flex",flexDirection:"column"},children:[e.jsx(l.Text,{name:"email",label:"이메일",helperText:"가입된 계정의 이메일 주소입니다.",slotProps:{input:{readOnly:!0}}}),e.jsx(l.Code,{name:"code",onBlur:S,helperText:e.jsx(c,{sx:{width:"80px"},children:e.jsx(W,{ok:k,error:(p=m.code)==null?void 0:p.message})})}),e.jsx(l.Text,{name:"password",label:"비밀번호",placeholder:"비밀번호를 입력해주세요",type:o.value?"text":"password",onBlur:F,helperText:e.jsx(G,{ok:y,error:(h=m.password)==null?void 0:h.message}),slotProps:{inputLabel:{shrink:!0},input:{endAdornment:e.jsx(w,{position:"end",children:e.jsx(g,{onClick:o.onToggle,edge:"end",children:e.jsx(u,{icon:o.value?"solar:eye-outline":"solar:eye-closed-outline"})})})}}}),e.jsx(l.Text,{name:"confirmPassword",label:"비밀번호 확인",placeholder:"비밀번호를 다시 입력해주세요",type:o.value?"text":"password",onBlur:I,helperText:e.jsx(J,{ok:v,error:(f=m.confirmPassword)==null?void 0:f.message}),slotProps:{inputLabel:{shrink:!0},input:{endAdornment:e.jsx(w,{position:"end",children:e.jsx(g,{onClick:o.onToggle,edge:"end",children:e.jsx(u,{icon:o.value?"solar:eye-outline":"solar:eye-closed-outline"})})})}}}),e.jsx(j,{fullWidth:!0,color:"inherit",size:"large",variant:"contained",sx:{mt:5},onClick:()=>x(!0),children:"비밀번호 수정"})]})}),e.jsx(H,{}),e.jsx(D,{open:O,close:()=>x(!1),icon:e.jsx(u,{icon:"carbon:checkmark-filled",width:80,height:80,sx:{color:"success.main",mb:2}}),title:"비밀번호 수정 완료",message:"비밀번호가 성공적으로 수정되었습니다. 로그인 페이지로 이동합니다.",buttons:e.jsx(j,{variant:"contained",color:"inherit",href:R.signIn,onClick:()=>x(!1),children:"확인"})})]})}function M(){const s=`${C.assetsDir}/assets/images/auth/lock.png`,r=e.jsx(c,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:{xs:5,md:8}},children:e.jsx(c,{component:"img",src:s,sx:{width:90,height:90}})});return e.jsxs(e.Fragment,{children:[e.jsx($,{sx:{alignSelf:{xs:"center",md:"flex-start"}}}),r,e.jsx(L,{title:"비밀번호 재설정",description:"이메일 인증코드와 새 비밀번호를 입력해주세요.",sx:{mt:{xs:5,md:8},textAlign:{xs:"center",md:"left"}}}),e.jsx(K,{})]})}const Q={title:`${C.appName}`};function de(){return e.jsxs(e.Fragment,{children:[e.jsx(E,{children:e.jsxs("title",{children:[" ",Q.title]})}),e.jsx(M,{})]})}export{de as default};
